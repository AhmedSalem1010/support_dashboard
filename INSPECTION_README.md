# صفحة التشييك (Inspection Page)

## الوصف
صفحة التشييك تتيح للمشرفين إجراء تشييك شامل على المركبات أو السكن مع إمكانية رفع الصور والفيديوهات وتوثيق المعدات.

## الميزات

### 1. نوعان من التشييك
- **تشييك المركبة**: لتفتيش المركبات والمعدات
- **تشييك السكن**: لتفتيش السكن والإقامة

### 2. تشييك المركبة يتضمن:

#### اختيار المركبة
- قائمة منسدلة لاختيار المركبة
- عرض تلقائي لمعلومات المركبة:
  - رقم اللوحة
  - الصانع والموديل
  - السنة
  
#### معلومات السائق
- الاسم
- رقم الهاتف
- الفريق المنتمي إليه

#### قائمة المعدات (Equipment Checklist)
- ✅ مكنسة كهربائية (Vacuum)
- ✅ آلة جلي (Polisher)
- ✅ سلم (Ladder)
- ✅ دلو (Bucket)
- ✅ ممسحة (Mop)
- ✅ مكنسة (Broom)
- ✅ ماسح زجاج (Squeegee)
- ✅ خزان ماء (Water Tank)

يتم تحديد كل عنصر بشكل تفاعلي مع تغيير اللون للعناصر المحددة.

#### رفع الوسائط للمركبة
- **صور المركبة**: إمكانية رفع عدة صور
- **فيديو المركبة**: رفع فيديو واحد
- **فيديو المعدات والعمال**: رفع فيديو واحد

### 3. تشييك السكن يتضمن:

#### رفع الوسائط للسكن
- **صور السكن**: إمكانية رفع عدة صور
- **فيديو السكن**: رفع فيديو واحد

### 4. معلومات إضافية (لكلا النوعين)
- **المشرف المسؤول**: حقل إلزامي لاسم المشرف
- **الملاحظات**: حقل نصي للملاحظات الإضافية

## كيفية الاستخدام

1. **اختر نوع التشييك**
   - اضغط على "تشييك المركبة" أو "تشييك السكن"

2. **في حالة تشييك المركبة:**
   - اختر المركبة من القائمة المنسدلة
   - ستظهر معلومات المركبة والسائق تلقائياً
   - حدد المعدات الموجودة
   - ارفع الصور والفيديوهات

3. **في حالة تشييك السكن:**
   - ارفع صور السكن
   - ارفع فيديو السكن

4. **أدخل معلومات المشرف والملاحظات**

5. **اضغط على "حفظ التشييك"**

## الوظائف التقنية

### إدارة الحالة (State Management)
```typescript
- inspectionType: نوع التشييك (vehicle/accommodation)
- selectedVehicle: المركبة المختارة
- vehicleInfo: معلومات المركبة والسائق
- equipment: قائمة المعدات المحددة
- vehicleImages: صور المركبة
- vehicleVideo: فيديو المركبة
- equipmentWorkerVideo: فيديو المعدات والعمال
- accommodationImages: صور السكن
- accommodationVideo: فيديو السكن
- supervisor: المشرف المسؤول
- notes: الملاحظات
```

### التحقق من البيانات
- حقول إلزامية للمركبة (في تشييك المركبة)
- حقل إلزامي للمشرف
- التحقق من نوع الملفات (صور/فيديو)

### معالجة النماذج
عند الإرسال، يتم تجميع جميع البيانات في `FormData` لإرسالها إلى الـ Backend:
```typescript
- نوع التشييك
- معلومات المركبة (إن وجدت)
- قائمة المعدات (إن وجدت)
- جميع الصور والفيديوهات
- المشرف والملاحظات
```

## الربط مع الـ Backend

سيحتاج الـ Backend إلى:

### Entity: `Inspection`
```typescript
{
  id: number;
  inspectionType: 'vehicle' | 'accommodation';
  vehicleId?: number; // إذا كان تشييك مركبة
  supervisor: string;
  notes: string;
  equipment?: object; // قائمة المعدات
  createdAt: Date;
  updatedAt: Date;
}
```

### Entity: `InspectionMedia`
```typescript
{
  id: number;
  inspectionId: number;
  mediaType: 'image' | 'video';
  category: 'vehicle' | 'equipment' | 'accommodation';
  filePath: string;
  createdAt: Date;
}
```

### API Endpoints المطلوبة
- `POST /api/inspections` - إنشاء تشييك جديد
- `GET /api/inspections` - جلب جميع التشييكات
- `GET /api/inspections/:id` - جلب تشييك محدد
- `GET /api/vehicles` - جلب قائمة المركبات للاختيار

## التحسينات المستقبلية

1. **تكامل مع API حقيقي** بدلاً من البيانات الوهمية
2. **إضافة معاينة للفيديوهات** قبل الإرسال
3. **ضغط الصور** قبل الرفع لتقليل حجم البيانات
4. **إضافة تاريخ ووقت التشييك**
5. **إمكانية تعديل التشييكات السابقة**
6. **إضافة توقيع إلكتروني للمشرف**
7. **تصدير التقارير بصيغة PDF**

## الملاحظات

- الصور والفيديوهات يتم تخزينها مؤقتاً في الـ State
- يجب التأكد من إعدادات الـ Backend لاستقبال ملفات كبيرة
- يُنصح بتحديد حجم أقصى للملفات المرفوعة
